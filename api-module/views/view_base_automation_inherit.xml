<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <data>
        <record id="view_server_action_form" model="ir.ui.view">
           <field name="name">Server.Action.inherit</field>
           <field name="model">ir.actions.server</field>
           <field name="inherit_id" ref="base.view_server_action_form"/>
           <field name='arch' type='xml'>
            <notebook position="inside">
                <page string="API headers" name="api_headers" autofocus="autofocus" attrs="{'invisible': [('state', '!=', 'api_call')]}">
                    <group name="General info">
                        <field name="api_name"/>
                        <!-- <field name="description"/> -->
                    </group>
                    <group name="API headers">
                        <field name="url"/>
                        <field name="access_key"/>
                        <field name="method"/>
                        <field name="headers" />
                        <field name="body" attrs="{'invisible': [('method', '!=', 'get')]}"/>
                        <field name="query" attrs="{'invisible': [('method', '!=', 'get')]}"/>
                    </group>
                    
                </page>
                <page string="API Payload" name="api_payload" autofocus="autofocus" attrs="{'invisible': [('state', '!=', 'api_call')]}">
                    <field name="payload" widget="ace" options="{'mode': 'xml'}"/>
                </page>
            </notebook>
            </field>
        </record>
    </data>

</odoo>
